- name: Radarr
  ansible.builtin.include_role:
    name: media_app
  vars:
    media_app_name: sonarr
    media_app_version: 4.0.15.2941
    media_app_release: "{{ media_app_name | capitalize }}.main.{{ media_app_version }}.linux-x64.tar.gz"
    media_app_github_url: https://github.com/Sonarr/Sonarr/releases/download
    media_app_download_url: "{{ media_app_github_url }}/v{{ media_app_version }}/{{ media_app_release }}"
    media_app_sha256: sha256:80d693b013dbec8cebc19c936bc1fcdcf876e3aa62f02757216fdf86e0c9fa91
    media_app_packages:
      - curl
      - sqlite3
    media_app_service_dirs:
      - "{{ media_app_root }}"
      - "{{ media_app_media_root }}/downloads"
      - "{{ media_app_media_root }}/arr_suite/tv"
    media_app_service_wants:
      - network-online.target
      - sabnzbdplus.service
      - prowlarr.service
    media_app_service_after:
      - network-online.target
      - sabnzbdplus.service
      - prowlarr.service
    media_app_service_exec: "{{ media_app_app }}/{{ media_app_name | capitalize }} -nobrowser -data=/srv/{{ media_app_name }}/data"
    media_app_sys_srv:
      - downloads
      - tv
    media_app_service_bind_ro:
      - "{{ media_app_app }}:/srv/{{ media_app_name }}/app"
    media_app_service_bind_rw:
      - "{{ media_app_media_root }}/downloads:/srv/downloads"
      - "{{ media_app_media_root }}/arr_suite/tv:/srv/tv"
      - "{{ media_app_data }}:/srv/{{ media_app_name }}/data"
